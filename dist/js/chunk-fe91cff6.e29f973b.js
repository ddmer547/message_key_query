(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe91cff6"],{"14b9":function(t,s,e){var a=e("5ca1");a(a.P,"String",{repeat:e("9744")})},"56e2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"patient"}},[e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"电子病历查询"}},[e("div",{staticClass:"flex"},[e("div",[t._v("URL:")]),e("el-input",{attrs:{placeholder:"请输入URL"},model:{value:t.searchObj.url,callback:function(s){t.$set(t.searchObj,"url",s)},expression:"searchObj.url"}}),e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.sendSearchFn}},[t._v("查询")])],1),e("div",{staticClass:"content"},[e("div",{staticClass:"form2"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchObj.formInline,"label-width":"100px"}}),e("div",[e("el-table",{directives:[{name:"show",rawName:"v-show",value:t.showtableData2,expression:"showtableData2"}],staticStyle:{width:"100%"},attrs:{data:t.tableData2}},[e("el-table-column",{attrs:{prop:"id",label:"资源ID"}}),e("el-table-column",{attrs:{prop:"time",label:"时间"}}),e("el-table-column",{attrs:{prop:"compositionStatus",label:"状态"}}),e("el-table-column",{attrs:{prop:"patientName",label:"患者"}}),e("el-table-column",{attrs:{prop:"authorDoctor",label:"主治医生"}}),e("el-table-column",{attrs:{prop:"titleName",label:"标题"}})],1)],1)],1)])]),e("el-tab-pane",{attrs:{label:"电子病历文档生成"}},[e("div",{staticClass:"flex"},[e("div",[t._v("URL:")]),e("el-input",{attrs:{placeholder:"请输入URL"},model:{value:t.searchObj.url,callback:function(s){t.$set(t.searchObj,"url",s)},expression:"searchObj.url"}}),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:t.generateClick}},[t._v("生成\n                    ")])],1),e("br"),e("div",{staticClass:"flex"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchObj.formInline,"label-width":"100px"}},[e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"medium"},on:{click:t.downloadUrlFile}},[t._v("下载\n                        ")])],1)],1),e("br"),e("el-divider",{attrs:{"content-position":"left"}},[t._v("组件")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("状态")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.com1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("项目名")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.com2))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("患者")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("身份证号")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("社保卡号")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat2))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("姓名")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat3))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("联系电话")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat4))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("性别")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat5))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("生日")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat6))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("住址")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.pat7))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("就诊")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("就诊时间")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("状态")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc2))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("就诊类别代码")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc3))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("就诊类别名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc4))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("诊断代码")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc5))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("诊断名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.enc6))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("医生")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("医生名")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.doctor1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("联系电话")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.doctor2))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("医疗机构")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("机构名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.org1))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("观察")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("状态")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.obs1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("观察时间")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.obs2))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("观察结果")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.obs3))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("诊断")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("诊断类型代码")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.con3))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("诊断类型名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.con4))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("诊断代码")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.con5))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("诊断名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.con6))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("药品申请")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("药品ID")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("药品名")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med2))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("开药医生")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med3))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("开药时间")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med4))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("使用天数")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med5))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("用法用量")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med6))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("药品备注")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.Med7))])])])]),e("el-divider",{attrs:{"content-position":"left"}},[t._v("过敏")]),e("table",{staticClass:"cTable",attrs:{Cellspacing:"0",Cellpadding:"0"}},[e("tr",[e("td",{staticClass:"td1"},[t._v("临床状态")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.All1))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("过敏代码")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.All2))])])]),e("tr",[e("td",{staticClass:"td1"},[t._v("过敏名称")]),e("td",{staticClass:"td2"},[e("div",{staticClass:"cell"},[t._v(t._s(t.send.form3.All3))])])])])],1)],1)],1)},c=[],l=(e("14b9"),e("28a5"),e("7f7f"),e("ac6a"),e("1157")),i=e.n(l),r={handleClick:function(t){console.log(t)},data:function(){return{showtableData:!1,showtableData2:!0,tableData2:null,tableData3:null,send:{type:"XML",url:"http://localhost:52774/csp/healthshare/fhirserver/fhir/r4/Composition",form:{},form2:{id:"1",time:"1",compositionStatus:"",patientName:"",authorDoctor:"",titleName:""},form3:{com1:"",com2:"",pat1:"",pat2:"",pat3:"",pat4:"",pat5:"",pat6:"",pat7:"",pat8:"",enc1:"",enc2:"",enc3:"",enc4:"",enc5:"",enc6:"",enc7:"",enc8:"",enc9:"",doctor1:"",doctor2:"",doctor3:"",org1:"",org2:"",org3:"",org4:"",org5:"",org6:"",org7:"",obs1:"",obs2:"",obs3:"",con1:"",con2:"",con3:"",con4:"",con5:"",con6:"",Med1:"",Med2:"",Med3:"",Med4:"",Med5:"",Med6:"",Med7:"",All1:"",All2:"",All3:""}},searchObj:{formInline:{name:"",id:"",persist:""},url:"http://localhost:52774/csp/healthshare/fhirserver/fhir/r4/Composition"}}},created:function(){},mounted:function(){},methods:{typeClick:function(t){this.send.type=t},sendSearchFn:function(){var t=this,s=this.searchObj.url;this.tableData2=null,i.a.ajax({url:s,type:"GET",contentType:"application/fhir+json",dataType:"json",success:function(s){if("Composition"==s.resourceType)console.log(s),t.tableData2=[{id:s.id,time:s.meta.lastUpdated,compositionStatus:s.status,patientName:s.subject.display,authorDoctor:s.author.display,titleName:s.title}];else{var e=[],a={};s.entry.forEach((function(t,s){console.log(t.resource),a={id:t.resource.id,time:t.resource.meta.lastUpdated,compositionStatus:t.resource.status,patientName:t.resource.subject.display,authorDoctor:t.resource.author[0].display,titleName:t.resource.title},e.push(a)})),t.tableData2=e}},error:function(t){}})},downloadUrlFile:function(){var t=window.sessionStorage,s=t.getItem("Data");JSON.parse(s),console.log(JSON.parse(s));var e=document.createElement("a"),a=new Blob([JSON.stringify(JSON.parse(s))],{type:"application/octet-stream"}),c=window.URL.createObjectURL(a);e.style.display="none",e.download="document_.xml",e.href=c,e.click()},generateClick:function(){var t=this,s=this.searchObj.url;i.a.ajax({url:s,type:"GET",contentType:"application/fhir+json",dataType:"json",success:function(s){var e=window.sessionStorage;e.setItem("Data",JSON.stringify(s));var a={com1:"1",com2:"2",pat1:"1",pat2:"2",pat3:"3",pat4:"4",pat5:"5",pat6:"6",pat7:"7",pat8:"8",enc1:"1",enc2:"2",enc3:"3",enc4:"4",enc5:"5",enc6:"6",enc7:"7",enc8:"8",enc9:"9",doctor1:"1",doctor2:"2",doctor3:"3",org1:"1",org2:"2",org3:"3",org4:"4",org5:"5",org6:"6",org7:"7",obs1:"1",obs2:"2",obs3:"3",con1:"1",con2:"2",con3:"3",con4:"4",con5:"5",con6:"6",Med1:"1",Med2:"2",Med3:"3",Med4:"4",Med5:"5",Med6:"6",Med7:"7",All1:"1",All2:"2",All3:"3"};s.entry.forEach((function(t,s){console.log(t),"Composition"==t.resource.resourceType&&(a.com1=t.resource.status,a.com2=t.resource.title),"Patient"==t.resource.resourceType&&(a.pat1=t.resource.identifier[0].value,a.pat2=t.resource.identifier[1].value,a.pat3=t.resource.name[0].text,a.pat4=t.resource.telecom[0].value,a.pat5=t.resource.gender,a.pat6=t.resource.birthDate,a.pat7=t.resource.address[0].line[0]),"Encounter"==t.resource.resourceType&&(a.enc1=t.resource.meta.lastUpdated,a.enc2=t.resource.status,a.enc3=t.resource.class.code,a.enc4=t.resource.class.display,a.enc5=t.resource.diagnosis[0].condition.reference.split("/")[1],a.enc6=t.resource.diagnosis[0].condition.display),"Practitioner"==t.resource.resourceType&&(a.doctor1=t.resource.name[0].text,a.doctor2=t.resource.identifier[0].value),"Organization"==t.resource.resourceType&&(a.org1=t.resource.name),"Observation"==t.resource.resourceType&&(a.obs1=t.resource.status,a.obs2=t.resource.meta.lastUpdated,a.obs3=t.resource.code.coding[0].code+" "+t.resource.code.coding[0].display),"Condition"==t.resource.resourceType&&(a.con3=t.resource.category[0].coding[0].code,a.con4=t.resource.category[0].coding[0].display,a.con5=t.resource.code.coding[0].code,a.con6=t.resource.code.coding[0].display),"MedicationRequest"==t.resource.resourceType&&(a.Med1=t.resource.medicationCodeableConcept.coding[0].code,a.Med2=t.resource.medicationCodeableConcept.coding[0].display,a.Med3=t.resource.subject.display,a.Med4=t.resource.authoredOn,a.Med5=t.resource.dosageInstruction[0].timing.repeat.boundsPeriod.start+" 到 "+t.resource.dosageInstruction[0].timing.repeat.boundsPeriod.end,a.Med6=t.resource.dosageInstruction[0].route.coding[0].code+" "+t.resource.dosageInstruction[0].route.coding[0].display+" "+t.resource.dosageInstruction[0].timing.code.coding[0].code+" "+t.resource.dosageInstruction[0].timing.code.coding[0].display,a.Med7=t.resource.authoredOn),"AllergyIntolerance"==t.resource.resourceType&&(a.All1=t.resource.verificationStatus.coding[0].display,a.All3=t.resource.code.text)})),t.send.form3=a},error:function(t){}})},computed:{},components:{},watch:{}}},o=r,d=(e("936f"),e("2877")),n=Object(d["a"])(o,a,c,!1,null,"dadfbbb0",null);s["default"]=n.exports},"936f":function(t,s,e){"use strict";var a=e("c807"),c=e.n(a);c.a},9744:function(t,s,e){"use strict";var a=e("4588"),c=e("be13");t.exports=function(t){var s=String(c(this)),e="",l=a(t);if(l<0||l==1/0)throw RangeError("Count can't be negative");for(;l>0;(l>>>=1)&&(s+=s))1&l&&(e+=s);return e}},ac6a:function(t,s,e){for(var a=e("cadf"),c=e("0d58"),l=e("2aba"),i=e("7726"),r=e("32e9"),o=e("84f2"),d=e("2b4c"),n=d("iterator"),u=d("toStringTag"),p=o.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},C=c(v),m=0;m<C.length;m++){var f,_=C[m],b=v[_],g=i[_],h=g&&g.prototype;if(h&&(h[n]||r(h,n,p),h[u]||r(h,u,_),o[_]=p,b))for(f in a)h[f]||l(h,f,a[f],!0)}},c807:function(t,s,e){}}]);