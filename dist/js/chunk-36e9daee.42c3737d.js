(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36e9daee"],{"338a":function(e,t,r){"use strict";var a=r("6168"),n=r.n(a);n.a},6168:function(e,t,r){},ac6a:function(e,t,r){for(var a=r("cadf"),n=r("0d58"),i=r("2aba"),s=r("7726"),o=r("32e9"),l=r("84f2"),c=r("2b4c"),u=c("iterator"),d=c("toStringTag"),p=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(h),y=0;y<f.length;y++){var m,g=f[y],v=h[g],T=s[g],S=T&&T.prototype;if(S&&(S[u]||o(S,u,p),S[d]||o(S,d,g),l[g]=p,v))for(m in a)S[m]||i(S,m,a[m],!0)}},c8a8:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"patient"}},[r("el-tabs",{attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:"查询服务列表"}},[r("div",{staticClass:"flex"},[r("div",[e._v("URL:")]),r("el-input",{attrs:{placeholder:"请输入URL"},model:{value:e.send.urlu,callback:function(t){e.$set(e.send,"urlu",t)},expression:"send.urlu"}}),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.getCode}},[e._v("查询")])],1),r("div",{staticClass:"content"},[r("div",{staticClass:"form2"},[r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),r("el-table-column",{attrs:{prop:"title",label:"TITLE",width:"180"}}),r("el-table-column",{attrs:{prop:"description",label:"CONTENT",width:"180"}}),r("el-table-column",{attrs:{prop:"hook",label:"NAME",width:"180"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{attrs:{placeholder:"钩子选择"},on:{change:e.selectChangeG},model:{value:t.row.gType,callback:function(r){e.$set(t.row,"gType",r)},expression:"scope.row.gType"}},e._l(e.gTypeArr,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}])})],1)],1)])])]),r("el-tab-pane",{attrs:{label:"医生巡视病房"}},[r("div",{staticClass:"flex"},[r("div",[e._v("URL:")]),r("el-input",{attrs:{placeholder:"请输入URL"},model:{value:e.send.url,callback:function(t){e.$set(e.send,"url",t)},expression:"send.url"}})],1),r("div",{staticClass:"content"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,stripe:"","max-height":"550"},on:{"row-click":e.handlerClick}},[r("el-table-column",{attrs:{prop:"name",label:"姓名"}}),r("el-table-column",{attrs:{prop:"phone",label:"电话"}}),r("el-table-column",{attrs:{prop:"gender",label:"性别"}}),r("el-table-column",{attrs:{prop:"area",label:"地址"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-select",{attrs:{placeholder:"医嘱选择"},on:{change:e.selectChange},model:{value:t.row.musicType,callback:function(r){e.$set(t.row,"musicType",r)},expression:"scope.row.musicType"}},e._l(e.columeTypeArr,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}])})],1)],1)])],1)],1)},n=[],i=(r("6b54"),r("7f7f"),r("ac6a"),r("1157")),s=r.n(i),o={data:function(){return{columeTypeArr:[],gTypeArr:[{value:"patient-view",label:"patient-view"},{value:"order-select",label:"order-select"}],dataList:[],gType:!1,patientId:null,tableData:null,tableData1:null,couponSelected:[],services:[],NutritionOrder:null,MedicationRequest:null,searchObj:{formInline:{type:"",patient:"",doctor:""}},send:{type:"XML",url:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/",urlu:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/cds-services",urls:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/Binary",form:{id:"",name:"",idCard:"",socialSecurityCard:"",phone:"",gender:"",birthday:"",birthdayTime:"",state:"",city:"",district:"",line:"",postalCode:"",ContactName:"",contactNumber:"",contactGender:""},list:{id:123,serviceStatus:123}}}},created:function(){},mounted:function(){var e=this;this.columeTypeArr=[{value:"String",label:"字符串"},{value:"Int",label:"整数"},{value:"Decimal",label:"数值型"}];var t=window.sessionStorage;t.setItem("user","");var r=t.getItem("user");console.log(r),s.a.ajax({url:this.send.url+"/Patient",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){console.log(t);var r=t.entry,a=t.total,n=[];a&&r.forEach((function(e,t){var r=e.resource,a=r.id,i=(r.identifier,r.name),s=r.telecom,o=r.gender,l=(r.birthDate,r._birthDate,r.address),c=(r.contact,{});c.id=a,c.name=i[0].text,c.phone=s[0].value,c.gender=o,c.area=l[0].city+l[0].district+l[0].line[0],c.musicType="选择医嘱",n.push(c)})),e.dataList=[],e.dataList=n},error:function(e){}})},methods:{getCode:function(){var e=this;s.a.ajax({url:this.send.urlu,type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){var r=[],a={};t.services.forEach((function(e,t){a={id:e.id,title:e.title,description:e.description,hook:e.hook},r.push(a)})),e.tableData=r},error:function(e){}}),console.log(this.send.urlu),console.log(this.send.urlu.substring(0,this.send.urlu.length-12)+"MedicationRequest"),s.a.ajax({url:this.send.urlu.substring(0,this.send.urlu.length-16)+"MedicationRequest",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){var r=[],a={};t.entry.forEach((function(e,t){a={value:e.resource.id,label:e.resource.requester.display},r.push(a)})),e.columeTypeArr=r},error:function(e){}})},getCodes:function(){s.a.ajax({url:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/Patient/3",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(e){},error:function(e){}})},handlerClick:function(e,t,r){var a=this,n=window.sessionStorage;n.setItem("patientId",e.id),console.log(n.getItem("patientId")),this.gType?this.hanlderOrderSelect(n):(console.log(e,t,r),s.a.ajax({url:this.send.url+"Patient/"+e.id,type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){var r={};r.hookInstance=a.guid(),r.hook="patient-view",r.fhirServer=a.send.url;var n={};n.patientId=e.id,r.context=n;var i={};i.patient=t,r.prefetch=i,console.log(JSON.parse(JSON.stringify(r))),s.a.ajax({url:"http://139.196.180.9:52773/csp/healthshare/fhirserver/fhir/r4/CDS/cds-services/patient-greeting",type:"POST",data:JSON.stringify(r),contentType:"application/fhir+json",dataType:"json",headers:{prefer:"return=representation"},success:function(e){a.$notify({title:"提示",message:"成功："+e.cards[0].summary,duration:0})},error:function(e){}})},error:function(e){}}))},hanlderOrderSelect:function(e){var t=this;s.a.ajax({url:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/MedicationRequest/10",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){e.removeItem("MedicationRequest"),e.setItem("MedicationRequest",JSON.stringify(t))},error:function(e){}});var r=e.getItem("MedicationRequest");console.log(r),s.a.ajax({url:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/NutritionOrder/186",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(t){e.removeItem("NutritionOrder"),e.setItem("NutritionOrder",JSON.stringify(t))},error:function(e){}});var a=e.getItem("NutritionOrder");console.log(a);var n={},i={};i.patientId=e.getItem("patientId"),i.encounterId="",i.selections=["NutritionOrder/122","MedicationRequest/122"];var o={resourceType:"Bundle"},l=[],c={resource:JSON.parse(r)},u={resource:JSON.parse(a)};l.push(c),l.push(u),o.entry=l,i.draftOrders=o,n.context=i,console.log(JSON.parse(JSON.stringify(n))),s.a.ajax({url:"http://139.196.180.9:52773/csp/healthshare/fhirserver/fhir/r4/CDS/cds-services/cms-price-check",type:"POST",data:JSON.stringify(n),contentType:"application/fhir+json",dataType:"json",headers:{prefer:"return=representation"},success:function(e){console.log(e),t.$notify({title:"提示",message:"成功："+e.cards[0].summary,duration:0}),t.$notify({title:"提示",message:"成功："+e.cards[1].summary,duration:0})},error:function(e){}})},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()},selectChangeG:function(e){console.log(e),this.gType="order-select"==e},selectChange:function(e){var t=this,r=window.sessionStorage;console.log(e);var a="MedicationRequest/"+e;console.log(this.send.url+a),s.a.ajax({url:this.send.url+a,type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(e){r.removeItem("MedicationRequest"),r.setItem("MedicationRequest",JSON.stringify(e))},error:function(e){}});var n=r.getItem("MedicationRequest");console.log(n),s.a.ajax({url:"http://192.168.100.49:52774/csp/healthshare/fhirserver/fhir/r4/Patient/122",type:"GET",data:"",contentType:"application/fhir+json",dataType:"json",success:function(e){r.removeItem("NutritionOrder"),r.setItem("NutritionOrder",JSON.stringify(e))},error:function(e){}});var i=r.getItem("NutritionOrder");console.log(i);var o={},l={};l.patientId=r.getItem("patientId"),l.encounterId="",l.selections=["NutritionOrder/pureeddiet-simple",a];var c={resourceType:"Bundle"},u=[],d={resource:JSON.parse(n)},p={resource:JSON.parse(i)};u.push(d),u.push(p),c.entry=u,l.draftOrders=c,o.context=l,console.log(JSON.parse(JSON.stringify(o))),s.a.ajax({url:this.send.url+"cds-services/cms-price-check",type:"POST",data:JSON.stringify(o),contentType:"application/fhir+json",dataType:"json",headers:{prefer:"return=representation"},success:function(e){t.$notify({title:"提示",message:"成功："+e.cards[0].summary,duration:0}),t.$notify({title:"提示",message:"成功："+e.cards[1].summary,duration:0})},error:function(e){}})},typeClick:function(e){this.send.type=e}},computed:{},components:{},watch:{}},l=o,c=(r("338a"),r("2877")),u=Object(c["a"])(l,a,n,!1,null,"432f31f6",null);t["default"]=u.exports}}]);